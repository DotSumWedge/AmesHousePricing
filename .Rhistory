#    LotConfig
#    LandSlope
#AmesHouesingDataFrame = data.frame(read.csv("C:/SMU MS Data Science/StatisticalFoundations6371/AmesHousePricing/train.csv"))
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv")
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
# Create log transformation column for the various porch square foot columns
AmesHouesingDataFrame$LogLotArea = log(AmesHouesingDataFrame$LotArea + 1)
AmesHouesingDataFrame
#Lot area is heavily right skewed which is corrected with a log transformation
AmesHouesingDataFrameLotArea = filter(AmesHouesingDataFrame, LotArea > 1)
#Lot area is heavily right skewed which is corrected with a log transformation
AmesHouesingDataFrameLotArea = AmesHouesingDataFrame %>% filter( LotArea > 1)
library(tidyverse)
#Lot area is heavily right skewed which is corrected with a log transformation
AmesHouesingDataFrameLotArea = AmesHouesingDataFrame %>% filter( LotArea > 1)
# Histogram
hist(AmesHouesingDataFrameLotArea$LotArea, xlab='Lot Area (Feet^2)', main='Histogram of Lot Area')
# Box plot
boxplot(AmesHouesingDataFrameLotArea$LotArea, xlab = "Lot Area", ylab = "Lot Area in log(feet^2)", main = "Boxplot of Lot Area")
# QQ plot
qqnorm(AmesHouesingDataFrameLotArea$LotArea, pch = 1, frame = FALSE, main = "Q-Q Plot for Lot Area", ylab = "Lot Area in log(feet^2)")
qqline(AmesHouesingDataFrameLotArea$LotArea, col = "steelblue", lwd = 2)
# Histogram
hist(AmesHouesingDataFrameLotArea$LogLotArea, xlab='Lot Area in log(feet^2)', main='Histogram of log Lot Area')
# Box plot
boxplot(AmesHouesingDataFrameLotArea$LogLotArea, xlab = "Lot Area", ylab = "Lot Area in log(feet^2)", main = "Boxplot of Log Lot Area")
# QQ plot
qqnorm(AmesHouesingDataFrameLotArea$LogLotArea, pch = 1, frame = FALSE, main = "Q-Q Plot for Log Lot Area", ylab = "Lot Area in log(feet^2)")
qqline(AmesHouesingDataFrameLotArea$LogLotArea, col = "steelblue", lwd = 2)
AmesHouesingDataFrameLotArea %>% ggplot(aes(x = LotArea, y = SalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="Lot Area in Feet^2 vs sales price in Ames Iowa")
AmesHouesingDataFrameLotArea %>% ggplot(aes(x = LogLotArea, y = LogSalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="log(Lot Area in Feet^2) vs log(sales price) in Ames Iowa")
fit = lm(LogSalePrice~LogLotArea, data = AmesHouesingDataFrameLotArea)
summary(fit)
knitr::opts_chunk$set(echo = TRUE)
# Feature engineer an overall pool value from the columns:
#    LotArea - integer
#    LotShape
#    LandContour
#    LotConfig
#    LandSlope
library(tidyverse)
#AmesHouesingDataFrame = data.frame(read.csv("C:/SMU MS Data Science/StatisticalFoundations6371/AmesHousePricing/train.csv"))
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv")
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
# Create log transformation column for the various porch square foot columns
AmesHouesingDataFrame$LogLotArea = log(AmesHouesingDataFrame$LotArea + 1)
AmesHouesingDataFrame
#Lot area is heavily right skewed which is corrected with a log transformation
AmesHouesingDataFrameLotArea = AmesHouesingDataFrame %>% filter( LotArea > 1)
# Histogram
hist(AmesHouesingDataFrameLotArea$LotArea, xlab='Lot Area (Feet^2)', main='Histogram of Lot Area')
# Box plot
boxplot(AmesHouesingDataFrameLotArea$LotArea, xlab = "Lot Area", ylab = "Lot Area in log(feet^2)", main = "Boxplot of Lot Area")
# QQ plot
qqnorm(AmesHouesingDataFrameLotArea$LotArea, pch = 1, frame = FALSE, main = "Q-Q Plot for Lot Area", ylab = "Lot Area in log(feet^2)")
qqline(AmesHouesingDataFrameLotArea$LotArea, col = "steelblue", lwd = 2)
# Histogram
hist(AmesHouesingDataFrameLotArea$LogLotArea, xlab='Lot Area in log(feet^2)', main='Histogram of log Lot Area')
# Box plot
boxplot(AmesHouesingDataFrameLotArea$LogLotArea, xlab = "Lot Area", ylab = "Lot Area in log(feet^2)", main = "Boxplot of Log Lot Area")
# QQ plot
qqnorm(AmesHouesingDataFrameLotArea$LogLotArea, pch = 1, frame = FALSE, main = "Q-Q Plot for Log Lot Area", ylab = "Lot Area in log(feet^2)")
qqline(AmesHouesingDataFrameLotArea$LogLotArea, col = "steelblue", lwd = 2)
AmesHouesingDataFrameLotArea %>% ggplot(aes(x = LotArea, y = SalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="Lot Area in Feet^2 vs sales price in Ames Iowa")
AmesHouesingDataFrameLotArea %>% ggplot(aes(x = LogLotArea, y = LogSalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="log(Lot Area in Feet^2) vs log(sales price) in Ames Iowa")
fit = lm(LogSalePrice~LogLotArea, data = AmesHouesingDataFrameLotArea)
summary(fit)
knitr::opts_chunk$set(echo = TRUE)
# Feature engineer an overall location value from the columns:
#    MSZoning
#    LotFrontage - integer
#    Street
#    Alley
#    Neighborhood
#    Condition1
#    Condition2
#AmesHouesingDataFrame = data.frame(read.csv("C:/SMU MS Data Science/StatisticalFoundations6371/AmesHousePricing/train.csv"))
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv")
# Create log transformation column for the various porch square foot columns
AmesHouesingDataFrame$LogLotFrontage = log(AmesHouesingDataFrame$LotFrontage + 1)
AmesHouesingDataFrame
#Shows a right skew for LotFrontage that is corrected with a log transformation however the QQ plot still deviates from the identity line at the ends
AmesHouesingDataFrameLotFrontage = filter(AmesHouesingDataFrame, LotFrontage > 1)
# Histogram
hist(AmesHouesingDataFrameLotFrontage$LotFrontage, xlab='Linear feet of street connected to property', main='Histogram of linear feet of street connected to property')
# Box plot
boxplot(AmesHouesingDataFrameLotFrontage$LotFrontage, xlab = "Connected Street Length", ylab = "Linear feet of street connected to property", main = "Boxplot of linear feet of street connected to property")
# QQ plot
qqnorm(AmesHouesingDataFrameLotFrontage$LotFrontage, pch = 1, frame = FALSE, main = "Q-Q Plot for linear feet of street connected to property", ylab = "Linear feet of street connected to property")
qqline(AmesHouesingDataFrameLotFrontage$LotFrontage, col = "steelblue", lwd = 2)
# Histogram
hist(AmesHouesingDataFrameLotFrontage$LogLotFrontage, xlab='Street connected to property in log(feet)', main='Histogram of log street connected to property')
# Box plot
boxplot(AmesHouesingDataFrameLotFrontage$LogLotFrontage, xlab = "Connected Street Length", ylab = "Street connected to property in log(feet)", main = "Boxplot of street connected to property")
# QQ plot
qqnorm(AmesHouesingDataFrameLotFrontage$LogLotFrontage, pch = 1, frame = FALSE, main = "Q-Q Plot for street connected to property", ylab = "Street connected to property in log(feet)")
qqline(AmesHouesingDataFrameLotFrontage$LogLotFrontage, col = "steelblue", lwd = 2)
AmesHouesingDataFrameLotFrontage %>% ggplot(aes(x = LogLotFrontage, y = LogSalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="log(Connected Street Length) vs log(sales price) in Ames Iowa")
knitr::opts_chunk$set(echo = TRUE)
# Feature engineer an overall location value from the columns:
#    MSZoning
#    LotFrontage - integer
#    Street
#    Alley
#    Neighborhood
#    Condition1
#    Condition2
#AmesHouesingDataFrame = data.frame(read.csv("C:/SMU MS Data Science/StatisticalFoundations6371/AmesHousePricing/train.csv"))
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv")
library(ggplot2)
# Create log transformation column for the various porch square foot columns
AmesHouesingDataFrame$LogLotFrontage = log(AmesHouesingDataFrame$LotFrontage + 1)
AmesHouesingDataFrame
#Shows a right skew for LotFrontage that is corrected with a log transformation however the QQ plot still deviates from the identity line at the ends
AmesHouesingDataFrameLotFrontage = filter(AmesHouesingDataFrame, LotFrontage > 1)
# Histogram
hist(AmesHouesingDataFrameLotFrontage$LotFrontage, xlab='Linear feet of street connected to property', main='Histogram of linear feet of street connected to property')
# Box plot
boxplot(AmesHouesingDataFrameLotFrontage$LotFrontage, xlab = "Connected Street Length", ylab = "Linear feet of street connected to property", main = "Boxplot of linear feet of street connected to property")
# QQ plot
qqnorm(AmesHouesingDataFrameLotFrontage$LotFrontage, pch = 1, frame = FALSE, main = "Q-Q Plot for linear feet of street connected to property", ylab = "Linear feet of street connected to property")
qqline(AmesHouesingDataFrameLotFrontage$LotFrontage, col = "steelblue", lwd = 2)
# Histogram
hist(AmesHouesingDataFrameLotFrontage$LogLotFrontage, xlab='Street connected to property in log(feet)', main='Histogram of log street connected to property')
# Box plot
boxplot(AmesHouesingDataFrameLotFrontage$LogLotFrontage, xlab = "Connected Street Length", ylab = "Street connected to property in log(feet)", main = "Boxplot of street connected to property")
# QQ plot
qqnorm(AmesHouesingDataFrameLotFrontage$LogLotFrontage, pch = 1, frame = FALSE, main = "Q-Q Plot for street connected to property", ylab = "Street connected to property in log(feet)")
qqline(AmesHouesingDataFrameLotFrontage$LogLotFrontage, col = "steelblue", lwd = 2)
AmesHouesingDataFrameLotFrontage %>% ggplot(aes(x = LogLotFrontage, y = LogSalePrice, color = HouseStyle)) +
geom_jitter() + geom_smooth(method = "lm") +
labs(title="log(Connected Street Length) vs log(sales price) in Ames Iowa")
library(gbm)
library(mice)
library(moments)
library(ggplot2)
library(tidyverse)
library(janitor)
library(readxl)
library(GGally)
library(ggplot2)
library(treemapify)
library(gridExtra)
library(grid)
library(scales)
library(ggcorrplot)
library(corrplot)
library(class)
library(caret)
library(pROC)
library(e1071)
library(kableExtra)
library(StepReg)
library(ggthemes)
library(olsrr)
library(stargazer)
library(car)
library(leaps)
library(forecast)
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv", header = TRUE)
AmesHouesingDataFrame_test <- read.csv("C:/Users/Joey/Desktop/house-prices-advanced-regression-techniques/test.csv",header = TRUE)
glimpse(AmesHouesingDataFrame)$Neighborhood
three_n <- AmesHouesingDataFrame %>%
filter(Neighborhood == "NAmes" | Neighborhood == "Edwards" | Neighborhood == "BrkSide")
# how is sales price related to square footage?
# Squarefootage = GrLIvArea
# is the relationship between SalesPrice and SquareFootage
# dependent on the neighborhood?
# NORMAL DATA
three_n %>% ggplot(aes(GrLivArea, SalePrice)) +
geom_point()
# Findings - we have outliers with extreme SF but they don't follow price trend
# LOG SALEPRICE
three_n %>% ggplot(aes(GrLivArea, log(SalePrice))) +
geom_point()
# Findings - same as above regarding outliers
# LOG LOG
three_n %>% ggplot(aes(log(GrLivArea), log(SalePrice), color = as.factor(MSSubClass))) +
geom_point()
# Findings - the log transform of GLA seems to help the outliers a bit.
# investigating the outliers.
three_n %>% filter(as.factor(MSSubClass) == 60|
as.factor(MSSubClass) == 50|
as.factor(MSSubClass) == 70) %>%
ggplot(aes(log(GrLivArea), log(SalePrice), color= as.factor(MSSubClass))) +
geom_point()
# HIST. GR LIV AREA
three_n %>% ggplot(aes(log(GrLivArea))) +
geom_histogram(color = "black",fill = "steel blue", show.legend = FALSE)+
ggtitle("Distribution of GrLivArea")
# HIST. SALEPRICE
three_n %>% ggplot(aes(log(SalePrice))) +
geom_histogram(color = "black", fill = "steel blue", show.legend = F)
# log transform the SP does help the appearance of normality.. but SLIGHT
# skew to left.
AmesHouesingDataFrame %>% ggplot(aes(log(SalePrice), as.factor(YrSold), fill = as.factor(YrSold)))+
geom_bar(stat = 'identity')
three_n %>% filter(Neighborhood == "Edwards"& MSZoning == "RL") %>%
ggplot(aes(log(GrLivArea), log(SalePrice), color = as.factor(SaleCondition))) +
geom_point()
# bringing in some of the feats for trial in model...
# still using basic stuff.
model_var <- c('SalePrice',
'OverallQual','OverallCond','YearBuilt','ExterCond2',
'TotalBsmtSF','HeatingQC2',
'CentralAir2','BedroomAbvGr','KitchenAbvGr',
'TotRmsAbvGrd','Fireplaces',
'GarageArea','OpenPorchSF',#'PoolArea','GrLivArea', "LogX1stFlrSF", "LogX2ndFlrSF""LogPoolArea",
'YrSold', "LogGrLivArea","LogTotalBsmtSF",
"LogWoodDeckSF","LogOpenPorchSF","LogX3SsnPorch","LogScreenPorch",
"LogLotArea","LogLotFrontage","LogGarageArea","LogMasVnrArea"
)
lr_model <- home_train_vars[,model_var]
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
AmesHouesingDataFrame$LogX1stFlrSF = log(AmesHouesingDataFrame$X1stFlrSF + 1)
AmesHouesingDataFrame$LogX2ndFlrSF = log(AmesHouesingDataFrame$X2ndFlrSF + 1)
AmesHouesingDataFrame$LogGrLivArea = log(AmesHouesingDataFrame$GrLivArea + 1)
AmesHouesingDataFrame$LogTotalBsmtSF = log(AmesHouesingDataFrame$TotalBsmtSF + 1)
AmesHouesingDataFrame$LogBsmtUnfSF = log(AmesHouesingDataFrame$BsmtUnfSF + 1)
AmesHouesingDataFrame$LogWoodDeckSF = log(AmesHouesingDataFrame$WoodDeckSF + 1)
AmesHouesingDataFrame$LogOpenPorchSF = log(AmesHouesingDataFrame$OpenPorchSF + 1)
AmesHouesingDataFrame$LogX3SsnPorch = log(AmesHouesingDataFrame$X3SsnPorch + 1)
AmesHouesingDataFrame$LogScreenPorch = log(AmesHouesingDataFrame$ScreenPorch + 1)
AmesHouesingDataFrame$LogLotArea = log(AmesHouesingDataFrame$LotArea + 1)
AmesHouesingDataFrame$LogLotFrontage = log(AmesHouesingDataFrame$LotFrontage + 1)
AmesHouesingDataFrame$LogPoolArea = log(AmesHouesingDataFrame$PoolArea + 1)
AmesHouesingDataFrame$LogGarageArea = log(AmesHouesingDataFrame$GarageArea + 1)
AmesHouesingDataFrame$LogMasVnrArea = log(AmesHouesingDataFrame$MasVnrArea + 1)
names(AmesHouesingDataFrame)
# w/o messing around too much with transforms etc. I want to get
# baseline vars together that may have an impact on prices of homes.
home_vars <- c('Id','MSZoning','Utilities', 'Neighborhood','BldgType','HouseStyle',
'OverallQual','OverallCond','YearBuilt', 'ExterQual','ExterCond',
'BsmtQual','BsmtCond','TotalBsmtSF','Heating','HeatingQC',
'CentralAir','Electrical','BedroomAbvGr','KitchenAbvGr',
'KitchenQual','TotRmsAbvGrd','Functional','Fireplaces','FireplaceQu',
'GarageArea','GarageQual','GarageCond','OpenPorchSF',#'PoolArea',,'GrLivArea'"LogX1stFlrSF", "LogX2ndFlrSF","LogPoolArea",
'Fence','MoSold','YrSold','SaleType','SaleCondition','SalePrice',
"LogGrLivArea","LogTotalBsmtSF",
"LogWoodDeckSF","LogOpenPorchSF","LogX3SsnPorch","LogScreenPorch",
"LogLotArea","LogLotFrontage","LogGarageArea","LogMasVnrArea"
)
# creating the training set
home_train_vars <- AmesHouesingDataFrame[,home_vars]
# we do know that sales price needs to be logged... so at least let's get that
# in here...
home_train_vars$lSalePrice <- log(home_train_vars$SalePrice)
# some factors/vars need to be updated for use in our model/interpertations etc.
home_train_vars$ExterCond2 <- as.numeric(factor(home_train_vars$ExterCond,
levels = c("Ex","Gd","TA","Fa","Po"),
labels = c(5,4,3,2,1), ordered = TRUE))
home_train_vars$HeatingQC2 <- as.numeric(factor(home_train_vars$HeatingQC,
levels = c("Ex", "Gd","TA", "Fa","Po"),
labels = c(5,4,3,2,1) ,ordered = TRUE))
home_train_vars$CentralAir2 <- as.numeric(factor(home_train_vars$CentralAir,
levels = c("N", "Y"),
labels = c(0,1) ,ordered = TRUE))
# bringing in some of the feats for trial in model...
# still using basic stuff.
model_var <- c('SalePrice',
'OverallQual','OverallCond','YearBuilt','ExterCond2',
'TotalBsmtSF','HeatingQC2',
'CentralAir2','BedroomAbvGr','KitchenAbvGr',
'TotRmsAbvGrd','Fireplaces',
'GarageArea','OpenPorchSF',#'PoolArea','GrLivArea', "LogX1stFlrSF", "LogX2ndFlrSF""LogPoolArea",
'YrSold', "LogGrLivArea","LogTotalBsmtSF",
"LogWoodDeckSF","LogOpenPorchSF","LogX3SsnPorch","LogScreenPorch",
"LogLotArea","LogLotFrontage","LogGarageArea","LogMasVnrArea"
)
lr_model <- home_train_vars[,model_var]
lr_model$lSalePrice <- log(lr_model$SalePrice)
set.seed(4)
train.index <- sample(c(1:dim(lr_model)[1]), dim(lr_model)[1]*0.8)
lr_model_train <- lr_model[train.index,]
lr_model_test <- lr_model[-train.index,]
home_regression <- lm(lSalePrice~.-SalePrice, data = lr_model_train)
summary(home_regression)
# note "response" this will give you numerical result min/1stq /median/mean/3rd q/ max/ NA's
pred1 <- predict(home_regression, lr_model_test, type = "response")
# summary(pred1)
residuals <- lr_model_test$lSalePrice - pred1
home_regression_pred <- data.frame("Predicted" = pred1, "Actual" = lr_model_test$lSalePrice, "Residual" = residuals)
# returns ME-RMSE-MAE-MPE-MAPE
accuracy(pred1, lr_model_test$lSalePrice)
# note "predict" this returns fit/lwr/upr
pred2 <- predict(home_regression, interval = "predict", newdata = lr_model_test)
# summary(pred2)
stargazer(home_reg, type = 'text')
knitr::opts_chunk$set(echo = TRUE)
library(naniar)
library(tidyverse)
library(ggplot2)
library(plyr)
library(ggcorrplot)
library(gridExtra)
library(olsrr)
#AmesHouesingDataFrame = data.frame(read.csv("C:/SMU MS Data Science/StatisticalFoundations6371/AmesHousePricing/train.csv"))
AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv")
AmesHouesingDataFrame_test<-read.csv("C:/Users/Joey/Desktop/house-prices-advanced-regression-techniques/test.csv")
#AmesHouesingDataFrame <- read.csv("C:/Users/nicol/OneDrive/Desktop/train1.csv")
# Perform log transformations on columns that require it which was determined from the various *EDA.Rmd files and listed in Notes.txt
AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
AmesHouesingDataFrame$LogX1stFlrSF = log(AmesHouesingDataFrame$X1stFlrSF + 1)
AmesHouesingDataFrame$LogX2ndFlrSF = log(AmesHouesingDataFrame$X2ndFlrSF + 1)
AmesHouesingDataFrame$LogGrLivArea = log(AmesHouesingDataFrame$GrLivArea + 1)
AmesHouesingDataFrame$LogTotalBsmtSF = log(AmesHouesingDataFrame$TotalBsmtSF + 1)
AmesHouesingDataFrame$LogBsmtUnfSF = log(AmesHouesingDataFrame$BsmtUnfSF + 1)
AmesHouesingDataFrame$LogWoodDeckSF = log(AmesHouesingDataFrame$WoodDeckSF + 1)
AmesHouesingDataFrame$LogOpenPorchSF = log(AmesHouesingDataFrame$OpenPorchSF + 1)
AmesHouesingDataFrame$LogX3SsnPorch = log(AmesHouesingDataFrame$X3SsnPorch + 1)
AmesHouesingDataFrame$LogScreenPorch = log(AmesHouesingDataFrame$ScreenPorch + 1)
AmesHouesingDataFrame$LogLotArea = log(AmesHouesingDataFrame$LotArea + 1)
AmesHouesingDataFrame$LogLotFrontage = log(AmesHouesingDataFrame$LotFrontage + 1)
AmesHouesingDataFrame$LogPoolArea = log(AmesHouesingDataFrame$PoolArea + 1)
AmesHouesingDataFrame$LogGarageArea = log(AmesHouesingDataFrame$GarageArea + 1)
AmesHouesingDataFrame$LogMasVnrArea = log(AmesHouesingDataFrame$MasVnrArea + 1)
# The data contain many NA values. These NA values are not necessarily missing data, but can be thought of as
# a missing feature of certain homes.
AmesHouesingDataFrame$Fence <- as.character(AmesHouesingDataFrame$Fence)
AmesHouesingDataFrame$Fence[is.na(AmesHouesingDataFrame$Fence)] <- "None"
AmesHouesingDataFrame$Fence <- as.factor(AmesHouesingDataFrame$Fence)
# MSZoning: Identifies the general zoning classification of the sale.
AmesHouesingDataFrame$MSZoning <- as.character(AmesHouesingDataFrame$MSZoning)
AmesHouesingDataFrame$MSZoning[is.na(AmesHouesingDataFrame$MSZoning)] <- "None"
AmesHouesingDataFrame$MSZoning <- as.factor(AmesHouesingDataFrame$MSZoning)
# Exterior1st: Exterior covering on house
AmesHouesingDataFrame$Exterior1st <- as.character(AmesHouesingDataFrame$Exterior1st)
AmesHouesingDataFrame$Exterior1st[is.na(AmesHouesingDataFrame$Exterior1st)] <- "None"
AmesHouesingDataFrame$Exterior1st <- as.factor(AmesHouesingDataFrame$Exterior1st)
#Exterior2nd: Exterior covering on house (if more than one material)
AmesHouesingDataFrame$Exterior2nd <- as.character(AmesHouesingDataFrame$Exterior2nd)
AmesHouesingDataFrame$Exterior2nd[is.na(AmesHouesingDataFrame$Exterior2nd)] <- "None"
AmesHouesingDataFrame$Exterior2nd <- as.factor(AmesHouesingDataFrame$Exterior2nd)
AmesHouesingDataFrame$GarageType <- as.character(AmesHouesingDataFrame$GarageType)
AmesHouesingDataFrame$GarageType[is.na(AmesHouesingDataFrame$GarageType)] <- "None"
AmesHouesingDataFrame$GarageType <- as.factor(AmesHouesingDataFrame$GarageType)
AmesHouesingDataFrame$FireplaceQu <- as.character(AmesHouesingDataFrame$FireplaceQu)
AmesHouesingDataFrame$FireplaceQu[is.na(AmesHouesingDataFrame$FireplaceQu)] <- "None"
AmesHouesingDataFrame$FireplaceQu <- as.factor(AmesHouesingDataFrame$FireplaceQu)
AmesHouesingDataFrame$Alley <- as.character(AmesHouesingDataFrame$Alley)
AmesHouesingDataFrame$Alley[is.na(AmesHouesingDataFrame$Alley)] <- "None"
AmesHouesingDataFrame$Alley <- as.factor(AmesHouesingDataFrame$Alley)
AmesHouesingDataFrame$BsmtQual <- as.character(AmesHouesingDataFrame$BsmtQual)
AmesHouesingDataFrame$BsmtQual[is.na(AmesHouesingDataFrame$BsmtQual)] <- "None"
AmesHouesingDataFrame$BsmtQual <- as.factor(AmesHouesingDataFrame$BsmtQual)
AmesHouesingDataFrame$BsmtCond <- as.character(AmesHouesingDataFrame$BsmtCond)
AmesHouesingDataFrame$BsmtCond[is.na(AmesHouesingDataFrame$BsmtCond)] <- "None"
AmesHouesingDataFrame$BsmtCond <- as.factor(AmesHouesingDataFrame$BsmtCond)
AmesHouesingDataFrame$BsmtExposure <- as.character(AmesHouesingDataFrame$BsmtExposure)
AmesHouesingDataFrame$BsmtExposure[is.na(AmesHouesingDataFrame$BsmtExposure)] <- "None"
AmesHouesingDataFrame$BsmtExposure <- as.factor(AmesHouesingDataFrame$BsmtExposure)
AmesHouesingDataFrame$BsmtFinType1 <- as.character(AmesHouesingDataFrame$BsmtFinType1)
AmesHouesingDataFrame$BsmtFinType1[is.na(AmesHouesingDataFrame$BsmtFinType1)] <- "None"
AmesHouesingDataFrame$BsmtFinType1 <- as.factor(AmesHouesingDataFrame$BsmtFinType1)
AmesHouesingDataFrame$BsmtFinType2 <- as.character(AmesHouesingDataFrame$BsmtFinType2)
AmesHouesingDataFrame$BsmtFinType2[is.na(AmesHouesingDataFrame$BsmtFinType2)] <- "None"
AmesHouesingDataFrame$BsmtFinType2<- as.factor(AmesHouesingDataFrame$BsmtFinType2)
AmesHouesingDataFrame$GarageFinish <- as.character(AmesHouesingDataFrame$GarageFinish)
AmesHouesingDataFrame$GarageFinish[is.na(AmesHouesingDataFrame$GarageFinish)] <- "None"
AmesHouesingDataFrame$GarageFinish <- as.factor(AmesHouesingDataFrame$GarageFinish)
AmesHouesingDataFrame$GarageQual <- as.character(AmesHouesingDataFrame$GarageQual)
AmesHouesingDataFrame$GarageQual[is.na(AmesHouesingDataFrame$GarageQual)] <- "None"
AmesHouesingDataFrame$GarageQual <- as.factor(AmesHouesingDataFrame$GarageQual)
AmesHouesingDataFrame$GarageCond <- as.character(AmesHouesingDataFrame$GarageCond)
AmesHouesingDataFrame$GarageCond[is.na(AmesHouesingDataFrame$GarageCond)] <- "None"
AmesHouesingDataFrame$GarageCond <- as.factor(AmesHouesingDataFrame$GarageCond)
#MiscFeature: Miscellaneous feature not covered in other categories
AmesHouesingDataFrame$MiscFeature <- as.character(AmesHouesingDataFrame$MiscFeature)
AmesHouesingDataFrame$MiscFeature[is.na(AmesHouesingDataFrame$MiscFeature)] <- "None"
AmesHouesingDataFrame$MiscFeature <- as.factor(AmesHouesingDataFrame$MiscFeature)
# MasVnrType: Masonry veneer type
AmesHouesingDataFrame$MasVnrType <- as.character(AmesHouesingDataFrame$MasVnrType)
AmesHouesingDataFrame$MasVnrType[is.na(AmesHouesingDataFrame$MasVnrType)] <- "None"
AmesHouesingDataFrame$MasVnrType <- as.factor(AmesHouesingDataFrame$MasVnrType)
# Numerical Encoding so that we can explore correlation:
AmesHouesingDataFrame$ExterCondNum <- as.numeric(factor(AmesHouesingDataFrame$ExterCond,
levels = c("Ex", "Fa", "Gd", "TA", "Po"),
labels = c(5,2,4,3,1), ordered = TRUE))
AmesHouesingDataFrame$HeatingQCNum <- as.numeric(factor(AmesHouesingDataFrame$HeatingQC,
levels = c("Ex", "Fa", "Gd", "TA", "Po"),
labels = c(5,2,4,3,1), ordered = TRUE))
AmesHouesingDataFrame$CentralAirNum <- as.numeric(factor(AmesHouesingDataFrame$CentralAir,
levels = c("N", "Y"),
labels = c(0,1), ordered = TRUE))
# Numerical Encoding so that we can explore correlation for LOT VAR
AmesHouesingDataFrame$LotShapeNum <- as.numeric(factor(AmesHouesingDataFrame$LotShape,
levels = c("Reg", "IR1", "IR2", "IR3"),
labels = c(4,3,2,1), ordered = TRUE))
AmesHouesingDataFrame$LandContourNum <- as.numeric(factor(AmesHouesingDataFrame$LandContour,
levels = c("Lvl", "Bnk", "HLS", "Low"),
labels = c(4,3,2,1), ordered = TRUE))
AmesHouesingDataFrame$LotConfigNum <- as.numeric(factor(AmesHouesingDataFrame$LotConfig,
levels = c("Inside",
"Corner",
"CulDSac","FR2",
"FR3"),
labels = c(5,4,3,2,1), ordered = TRUE))
AmesHouesingDataFrame$LandSlopeNum <- as.numeric(factor(AmesHouesingDataFrame$LandSlope,
levels = c("Gtl", "Mod", "Sev"),
labels = c(3,2,1),
ordered = TRUE))
# library(gbm)
# library(mice)
# library(moments)
# library(ggplot2)
# library(tidyverse)
# library(janitor)
# library(readxl)
# library(GGally)
# library(ggplot2)
# library(treemapify)
# library(gridExtra)
# library(grid)
# library(scales)
# library(ggcorrplot)
# library(corrplot)
# library(class)
# library(caret)
# library(pROC)
# library(e1071)
# library(kableExtra)
# library(StepReg)
# library(ggthemes)
# library(olsrr)
# library(stargazer)
# library(car)
# library(leaps)
# library(forecast)
# AmesHouesingDataFrame <- read.csv("C:/Users/Joey/Desktop/stat project/AmesHousePricing/train.csv", header = TRUE)
# AmesHouesingDataFrame_test <- read.csv("C:/Users/Joey/Desktop/house-prices-advanced-regression-techniques/test.csv",header = TRUE)
#
# ```
#
# ```{r}
#
#
# AmesHouesingDataFrame$LogSalePrice = log(AmesHouesingDataFrame$SalePrice)
#
# AmesHouesingDataFrame$LogX1stFlrSF = log(AmesHouesingDataFrame$X1stFlrSF + 1)
# AmesHouesingDataFrame$LogX2ndFlrSF = log(AmesHouesingDataFrame$X2ndFlrSF + 1)
# AmesHouesingDataFrame$LogGrLivArea = log(AmesHouesingDataFrame$GrLivArea + 1)
#
# AmesHouesingDataFrame$LogTotalBsmtSF = log(AmesHouesingDataFrame$TotalBsmtSF + 1)
# AmesHouesingDataFrame$LogBsmtUnfSF = log(AmesHouesingDataFrame$BsmtUnfSF + 1)
#
# AmesHouesingDataFrame$LogWoodDeckSF = log(AmesHouesingDataFrame$WoodDeckSF + 1)
# AmesHouesingDataFrame$LogOpenPorchSF = log(AmesHouesingDataFrame$OpenPorchSF + 1)
# AmesHouesingDataFrame$LogX3SsnPorch = log(AmesHouesingDataFrame$X3SsnPorch + 1)
# AmesHouesingDataFrame$LogScreenPorch = log(AmesHouesingDataFrame$ScreenPorch + 1)
#
# AmesHouesingDataFrame$LogLotArea = log(AmesHouesingDataFrame$LotArea + 1)
# AmesHouesingDataFrame$LogLotFrontage = log(AmesHouesingDataFrame$LotFrontage + 1)
#
# AmesHouesingDataFrame$LogPoolArea = log(AmesHouesingDataFrame$PoolArea + 1)
#
# AmesHouesingDataFrame$LogGarageArea = log(AmesHouesingDataFrame$GarageArea + 1)
#
# AmesHouesingDataFrame$LogMasVnrArea = log(AmesHouesingDataFrame$MasVnrArea + 1)
#
#
#
# names(AmesHouesingDataFrame)
# # w/o messing around too much with transforms etc. I want to get
# # baseline vars together that may have an impact on prices of homes.
# home_vars <- c('Id','MSZoning','Utilities', 'Neighborhood','BldgType','HouseStyle',
#                 'OverallQual','OverallCond','YearBuilt', 'ExterQual','ExterCond',
#                 'BsmtQual','BsmtCond','TotalBsmtSF','Heating','HeatingQC',
#                 'CentralAir','Electrical','BedroomAbvGr','KitchenAbvGr',
#                 'KitchenQual','TotRmsAbvGrd','Functional','Fireplaces','FireplaceQu',
#                'GarageArea','GarageQual','GarageCond','OpenPorchSF',#'PoolArea',,'GrLivArea'"LogX1stFlrSF", "LogX2ndFlrSF","LogPoolArea",
#                 'Fence','MoSold','YrSold','SaleType','SaleCondition','SalePrice',
#                 "LogGrLivArea","LogTotalBsmtSF",
#                "LogWoodDeckSF","LogOpenPorchSF","LogX3SsnPorch","LogScreenPorch",
#                "LogLotArea","LogLotFrontage","LogGarageArea","LogMasVnrArea"
#                )
#
# # creating the training set
# home_train_vars <- AmesHouesingDataFrame[,home_vars]
#
# # we do know that sales price needs to be logged... so at least let's get that
# # in here...
# home_train_vars$lSalePrice <- log(home_train_vars$SalePrice)
#
# # some factors/vars need to be updated for use in our model/interpertations etc.
# home_train_vars$ExterCond2 <- as.numeric(factor(home_train_vars$ExterCond,
#                                                 levels = c("Ex","Gd","TA","Fa","Po"),
#                                                 labels = c(5,4,3,2,1), ordered = TRUE))
#
# home_train_vars$HeatingQC2 <- as.numeric(factor(home_train_vars$HeatingQC,
#                                   levels = c("Ex", "Gd","TA", "Fa","Po"),
#                                   labels = c(5,4,3,2,1) ,ordered = TRUE))
#
# home_train_vars$CentralAir2 <- as.numeric(factor(home_train_vars$CentralAir,
#                                   levels = c("N", "Y"),
#                                   labels = c(0,1) ,ordered = TRUE))
#
#
#
# ```
First Model
